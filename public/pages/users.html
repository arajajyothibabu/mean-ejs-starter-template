<div ng-controller="searchController as ctrl" layout="column" ng-cloak>
    <md-content class="md-padding">
        <section layout="row" layout-wrap>

            <div flex>
                <form ng-submit="$event.preventDefault()">
                    <md-autocomplete
                            ng-disabled="ctrl.isDisabled"
                            md-no-cache="ctrl.noCache"
                            md-selected-item="ctrl.selectedItem"
                            md-search-text-change="ctrl.searchTextChange(ctrl.searchText)"
                            md-search-text="ctrl.searchText"
                            md-selected-item-change="ctrl.selectedItemChange(item)"
                            md-items="item in ctrl.autoCompleteUsers"
                            md-item-text="item.display"
                            md-min-length="0"
                            placeholder="What is your favorite US state?">
                        <md-item-template>
                            <span md-highlight-text="ctrl.searchText" md-highlight-flags="^i">{{item.display}}</span>
                        </md-item-template>
                        <md-not-found>
                            No users matching "{{ctrl.searchText}}" were found.
                            <a ng-click="ctrl.getAllUsers(ctrl.searchText)">You want to search similar?</a>
                        </md-not-found>
                    </md-autocomplete>
                </form>
            </div>
            <div flex>
                <md-button ng-click="ctrl.getAllUsers(ctrl.searchText)" class="md-raised md-primary">Search Similar</md-button>
            </div>

        </section>

    </md-content>

    <md-content class="md-padding">
        <div class="wrapper">
            <div id="my-container">
                <table  ng-show="ctrl.users.length > 0">
                    <thead>
                    <tr>
                        <th>Topic</th><th>Company</th><th>Industry</th><th>Sub Industry</th><th>Score</th>
                    </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="user in ctrl.users">
                            <td>{{user.topic}}</td><td>{{user.company}}</td><td>{{user.industry}}</td><td>{{user.subindustry}}</td><td>{{user.score}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </md-content>

</div>
